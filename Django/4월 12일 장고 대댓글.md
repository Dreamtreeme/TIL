## M:N

한 테이블의 0개 이상의 레코드가 다른 테이블의 0개 이상의 레코드와 관련된 경우
- N:1의 한계
  - 동일한 환자지만 다른 의사에게도 진료 받기 위해 예약하기 위해서는 객체를 하나 더 만들어야함.
  - 왜래 키 컬럼에 1,2 형태로 저장하는 것은 db타입 문제로 불가능

- 중개 모델
  - 예약 테이블에 해당하는 중개모델을 작성
  - 의사 테이블과 고객 테이블은 건드리지 않고 중개모델만 늘어난다.
    역참조를 통해 의사에게 예약되어있는 환자, 환자에게 배당된 의사를 볼 수 있다.
  
- Many to Many Field
    - 장고에서 만들어주는 중개모델
    - 2개중 어디에서 ManyToManyField()를 사용하던 같은 중개모델이 만들어진다.
    - 쓴곳에선 참조가되고 나머지가 역참조가 된다
        ex) patient1.doctors.add(doctor1) -> 환자에서 의사를 참조
            doctor1.patient_set.add(patient2) - > 의사에서 환자를 역참조
    - 양방향 관계이며 어느 모델에서든 관련 객체에 접근할 수 있음
    - 동일한 관계는 한번만 저장됨.

- through argument
  - 중개 테이블에 '추가 데이터'를 사용해 M:N 관계를 형성하려는 경우에 사용
  - 2개의 관계 외래키 이외에 다른 속성들을 중개 클래스에 써줘야함

- related_name = '바꿀이름' 역참조 이름을 바꿈
- symmetrical
  - 관계 설정시 대칭 유무 설정 -> 예를들어 대댓글처럼 자연스럽게 둘이 관계를 갖게되는 상황


### 대표 조작 method
    add()
      - 관계 추가
      - 지정된 객체를 관련 객체 집합에 추가
    
    remove()
        - 관계 제거
        - 관련 객체 집합에서 지정된 모델 객체를 제거




### 좋아요 기능구현

    0 개 이상의 게시글은 0명 이상의 회원과 관련

    게시글은 회원으로부터 0개 이상의 좋아요를 받을 수 있고 회원은 0개 이상의 게시글에 좋아요를 누를 수 있음

    M:N 관계 설정 시 그냥 복수형으로 이름짓는것보다,
    명시적으로 보일 이름을 짓는게 좋다

